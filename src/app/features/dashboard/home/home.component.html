<div class="container">
  <div class="search-bar">
    <div class="sort">
      <label for="">Sort by :</label>
      <button mat-raised-button aria-label="sort icon" (click)="toggleFilterVar('date')">
        <span>Date</span>
        <mat-icon>swap_vert</mat-icon>
      </button>
      <button mat-raised-button aria-label="sort icon" (click)="toggleFilterVar('rating')">
        <span>Rating</span>
        <mat-icon>swap_vert</mat-icon>
      </button>
    </div>
    <mat-form-field>
      <mat-label>Filter</mat-label>
      <input matInput [(ngModel)]="stateService.searchTerm" placeholder="Ex. ium" #input />
    </mat-form-field>
  </div>
  <div class="listing">
    @for (
      company of companies
        | filter: stateService.searchTerm : stateService.sortByDate : stateService.sortByRating;
      track $index
    ) {
      <app-company-card (clickEvent)="viewCompany($event)" [data]="company" />
    }
  </div>
</div>
